#include<stdlib.h>
#include<stdio.h>
#include<string.h>
#include<time.h>
struct student{
int std_ID , std_date[3];
char std_name[50];
float marks;
struct student *next;
} *head;
typedef struct student std;
int num;
void createLinkedList();
void insertStudentAtBeginning();
void inserStudentatTheEnd();
void insertStudentatPosition();
void display();
int main()
{
  int start=clock();
  printf("Enter the number of students you want to insert them in the list :\n");
  scanf("%d",&num);
  createLinkedList();
  printf("Inserting at the beginning...\n");
  insertStudentAtBeginning();
  printf("Inserting at the end...\n");
  inserStudentatTheEnd();
  printf("Inserting at the position you would like...\n");
  insertStudentatPosition();
  printf("The list of the students is as follows: \n");
  display();
  int finish = clock();
    return 0;
}
void createLinkedList()
{
    struct student *tail, *ptr;
    head=(struct student*)malloc(sizeof(struct student));
    ptr=head;
    if (head==NULL)
    {
        printf("Memory cannot be allocated \n");
    }
    else
    {
        printf("Enter the name of first student :\n");
        {
char temp;
scanf("%c",&temp);//to clear buffer
scanf("%[^\n]",head->std_name);
        };
        printf("Enter the student 1 date of birth :");
        {scanf("%d",&(head->std_date[0]));
                scanf("%d",&(head->std_date[1]));
                scanf("%d",&(head->std_date[2]));}
        printf("Enter the student 1 ID :\n");
        scanf("%d",&(head->std_ID));
        printf("Enter the final score of student 1 :\n");
        scanf("%f",&(head->marks));
        for(int i=1;i<num;i++)
        {
            tail=(struct student*)malloc(sizeof(struct student));
            if (tail==NULL)
            {
                printf("Memory cannot be allocated ");
                break;
            }
            else
            {
                printf("Enter the student %d name :",i+1);
                {
char temp;
scanf("%c",&temp);//to clear buffer
scanf("%[^\n]",tail->std_name);
                }
                printf("Enter the student date of birth %d : ", i+1);
              {scanf("%d",&(tail->std_date[0]));
                scanf("%d",&(tail->std_date[1]));
                scanf("%d",&(tail->std_date[2]));}
        printf("Enter the student  ID %d : ",i+1);
        scanf("%d",&(tail->std_ID));
        printf("Enter the student final score %d : ",i+1);
        scanf("%f",&(tail->marks));
        tail->next=NULL;
        ptr->next=tail;
        ptr=ptr->next;
            }
        }
    }
}
void insertStudentAtBeginning()
{
        struct student *temp;
        temp=(struct student *)malloc(sizeof(struct student));
        if(temp==NULL)
        {
                printf(" Out of Memory Space: ");
                return ;
        }
       else{ printf("Enter the name of the student : " );
        {
char temp1;
scanf("%c",&temp1);//to clear buffer
scanf("%[^\n]",temp->std_name);
        };
        printf("Enter the student's date of birth : ");
               {scanf("%d",&(temp->std_date[0]));
                scanf("%d",&(temp->std_date[1]));
                scanf("%d",&(temp->std_date[2]));}
        printf("Enter the student's ID : ");
        scanf("%d",&(temp->std_ID));
        printf("Enter the student's final score : ");
        scanf("%f",&(temp->marks));
        temp->next=head;
        head=temp;
            }
}
void inserStudentatTheEnd()
{
     struct student *tail,*ptr;
        tail=(struct student *)malloc(sizeof(struct student));
        if(tail==NULL)
        {
                printf("Out of Memory Space: ");
                return;
        }
      else
      {printf(" Enter student's name : " );
        {
char temp1;
scanf("%c",&temp1);//to clear buffer
scanf("%[^\n]",tail->std_name);
        }
        printf("Enter the student's date of birth : ");
               {scanf("%d",&(tail->std_date[0]));
                scanf("%d",&(tail->std_date[1]));
                scanf("%d",&(tail->std_date[2]));
            }
        printf("Enter the student's ID : ");
        scanf("%d",&(tail->std_ID));
        printf("Enter the student's final score : ");
        scanf("%f",&(tail->marks));
        tail->next =NULL;
        ptr=head;
        while(ptr!=NULL && ptr->next!=NULL)
            ptr=ptr->next;
            ptr->next=tail;
        }}
 void insertStudentatPosition()
{
        struct student *ptr,*tail;
        int pos;
        ptr=(struct student *)malloc(sizeof(struct student));
        printf("Enter the position for the new student to be inserted at : ");
        scanf("%d",&pos);
        printf("Enter the name of the student : " );
        {
char temp1;
scanf("%c",&temp1);//to clear buffer
scanf("%[^\n]",ptr->std_name);
        };
        printf("Enter the student's date of birth : ");
               {scanf("%d",&(ptr->std_date[0]));
                scanf("%d",&(ptr->std_date[1]));
                scanf("%d",&(ptr->std_date[2]));}
        printf("Enter the student's ID : ");
        scanf("%d",&(ptr->std_ID));
        printf("Enter the student's final score : ");
        scanf("%f",&(ptr->marks));
        tail=head;
        if (pos==1)
        {
            ptr->next=tail;
            head=ptr;
            return;
        }
        for(int i=1;i<pos-1;i++)
        {
            tail=tail->next;
        }
        ptr->next=tail->next;
        tail->next=ptr;
}  
void display()
{
    struct student *new_ptr;
    if (head==NULL)
    {
        printf("List is empty, Sir ");

    }
    else
    {
        new_ptr=head;
        for(int counter=1; counter<=num+3; counter++)
        {

                        printf("Student Name %d :\n ",counter);
                        printf("%s\n",(new_ptr->std_name));
                        printf("Day of birth of student %d : \n",counter);
                        printf("%d\n",(new_ptr->std_date[0]));
                        printf("Month on which student %d was born :\n",counter);
                        printf("%d\n",(new_ptr->std_date[1]));
                        printf("Year in which student %d was born : \n",counter);
                        printf("%d\n",(new_ptr->std_date[2]));
                        printf("Student %d ID : \n",counter);
                        printf("%d\n",(new_ptr->std_ID));
                        printf("Student %d marks : \n",counter);
                        printf("%f\n",(new_ptr->marks));
                        new_ptr=new_ptr->next ;
        }
    }
}
